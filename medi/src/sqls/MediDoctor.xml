<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="MediDoctor">

	<insert id="addDoctor" parameterType="kh.com.medi.model.MediDoctorDto">
		INSERT INTO `medi`.`medi_doctor` (`hos_seq`, `name`, `specialty`, `regdate`, `doc_profile`, `doc_content`, `day_tostring`)
		VALUES (#{hos_seq}, #{name}, #{specialty}, now(), #{doc_profile}, #{doc_content}, #{day_tostring})
	</insert>
	
	<insert id="addSpecialty" parameterType="kh.com.medi.model.MediDoctor_specialtyDto">
		INSERT INTO `medi`.`medi_specialty` (`hos_seq`, `specialty`)
		VALUES (#{hos_seq}, #{specialty})
	</insert>
	
	<insert id="addSchedul" parameterType="kh.com.medi.model.MediDoctorSchedulDto">
		INSERT INTO `medi`.`medi_schedul` (`doc_seq`, `day`, `start_time`, `end_time`, `lunch_time`)
		VALUES ((SELECT MAX(`seq`) FROM `medi_doctor`), 
					#{day}, #{start_time}, #{end_time}, #{lunch_time})
	</insert>

</mapper>